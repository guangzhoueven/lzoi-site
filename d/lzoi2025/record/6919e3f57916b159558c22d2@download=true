#include <bits/stdc++.h>
using namespace std;
using i64 = long long;

int main() {
	ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr);
	i64 n;
	cin >> n;
	vector<i64> a(n);
	for (auto& x : a) cin >> x;

	if (n <= 1) {cout << 0 << "\n";	return 0;}

	i64 H = -a[0];  // 1.持有股票H；
	i64 NLK = 0;  	// 2.不持有股票和不在冷冻期NLock
	i64 LK = 0;		// 3.不持有股票但在冷冻期Lock

	for (i64 i = 1; i < n; i++) {
		i64 n_H = max(H, NLK - a[i]); 	// 买股票
		i64 n_LK = H + a[i];			// 卖股票
		i64 n_NLK = max(NLK, LK);

		H = n_H;
		LK = n_LK;
		NLK = n_NLK;
	}
	cout << max(NLK, LK) << "\n";
	return 0;
}
