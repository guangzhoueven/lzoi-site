#include <bits/stdc++.h>
using namespace std;
using i64 = long long;

int main() {
	ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr);
	i64 n;
	cin >> n;
	
	vector<i64> col(n + 1);			// 第 i 行的皇后放在第 col[i] 列
	vector<bool> c(n + 1, false);	// 列
	vector<bool> x1(2 * n, false);  // 主对角线：row - col + n
	vector<bool> x2(2 * n, false);  // 副对角线：row + col
	
	i64 cnt = 0;
	auto dfs = [&](auto&& self, i64 row) -> void {
		if (row > n) {
			cnt++;
			if (cnt <= 3) 
				for (i64 i = 1; i <= n; i++) cout << col[i] << " \n"[i == n];
			return;
		}
		
		for (i64 i = 1; i <= n; i++) {
			if (!c[i] && !x1[row - i + n] && !x2[row + i]) {
				col[row] = i;
				c[i] = true;
				x1[row - i + n] = true;
				x2[row + i] = true;
				
				self(self, row + 1);
				
				c[i] = false;
				x1[row - i + n] = false;
				x2[row + i] = false;
			}
		}
	};
	
	dfs(dfs, 1);
	cout << cnt << "\n";
	return 0;
}