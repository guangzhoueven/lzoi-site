#include <bits/stdc++.h>
using namespace std;

int main() {
	ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr);
	int T;
	cin >> T;

	while (T--) {
		int n, k;
		cin >> n >> k;
		vector<int> a(n), b(n);
		for (int i = 0; i < n; i++) cin >> a[i];
		for (int i = 0; i < n; i++) cin >> b[i];
		sort(a.begin(), a.end());
		sort(b.begin(), b.end());
		
		unordered_map<int, int> freq;	// <a[i] % k, cnt>
		for (int i = 0; i < n; i++) {
			int r = a[i] % k;
			freq[r]++;
		}
		
		bool ans = true;
		for (int i = 0; i < n; i++) {
			int r = b[i] % k;
			if (freq[r] > 0) freq[r]--; // a中有同余数的元素
			else {
				int n_r = (-b[i]) % k;
				if (n_r < 0) n_r += k;
				if (freq[n_r] > 0) freq[n_r]--;
				else {
					ans = false;
					break;
				}
			}
		}
		cout << (ans ? "YES" : "NO") << "\n";
	}
	return 0;
}