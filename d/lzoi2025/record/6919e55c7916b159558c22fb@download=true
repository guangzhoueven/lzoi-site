#include <bits/stdc++.h>
using namespace std;
using i64 = long long;

int main() {
	ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr);
	i64 n;
	cin >> n;
	vector<i64> a(n);
	for (auto& x : a) cin >> x;

	if (n <= 1) {cout << 0 << "\n";	return 0;}

	i64 H = -a[0];  // 1.H（have）-持有股票时的最大利润	
	i64 NLK = 0;  	// 2.NLK（no-lock）-不持有股票和不在冷冻期（可以买入）时的最大利润
	i64 LK = 0;		// 3.LK(lock)-不持有股票但处于冷冻期时的最大利润

	for (i64 i = 1; i < n; i++) {
		i64 n_H = max(H, NLK - a[i]); 	// 继续持有 或 从非冷冻期买入
		i64 n_LK = H + a[i];			// 卖出股票进入冷冻期
		i64 n_NLK = max(NLK, LK);		// 冷冻期结束 或 继续保持非冷冻期

		H = n_H;
		LK = n_LK;
		NLK = n_NLK;
	}
	cout << max(NLK, LK) << "\n";
	return 0;
}
