#include <bits/stdc++.h>
using namespace std;
using i64 = long long;

struct SegmentTree {
	i64 n;
	vector<i64> t;
	SegmentTree(i64 n_) : n(n_) {
		t.assign(2 * n, 0);
	}

	void update(i64 p, i64 v) {
		p += n, t[p] = v;
		for (i64 i = p / 2; i >= 1; i /= 2)
			t[i] = max(t[i * 2], t[i * 2 + 1]);
	}

	i64 query(i64 l, i64 r) {
		l += n, r += n;
		i64 ans = 0;
		while (l <= r) {
			if (l % 2 == 1) ans = max(ans, t[l]), l++;
			if (r % 2 == 0) ans = max(ans, t[r]), r--;
			l /= 2, r /= 2;
		}
		return ans;
	}
};

int main() {
	ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr);
	i64 n, q;
	cin >> n >> q;
	SegmentTree seg(n);
	for (i64 i = 0; i < n; i++) {
		i64 num;
		cin >> num;
		seg.update(i, num);
	}

	while (q--) {
		i64 op;
		cin >> op;
		if (op == 1) {
			i64 p, x;
			cin >> p >> x;
			seg.update(p - 1, x);
		} else if (op == 2) {
			i64 l, r;
			cin >> l >> r;
			cout << seg.query(l - 1, r - 1) << "\n";
		}
	}
	return 0;
}

