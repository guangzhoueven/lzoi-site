#include <bits/stdc++.h>
using namespace std;
void mid_num(priority_queue<int>& max_heap, priority_queue<int, vector<int>, greater<int>>& min_heap) {
	if (max_heap.size() == min_heap.size()) {
		cout << (max_heap.top() + min_heap.top()) / 2 << " ";
	} else {
		cout << max_heap.top() << " ";
	}
}
int main() {
	ios::sync_with_stdio(false);
	cin.tie(0);
	cout.tie(0);
	int n;
	cin >> n;
	priority_queue<int> max_heap; // 存储较小的一半（最大堆）
	priority_queue<int, vector<int>, greater<int>> min_heap; // 存储较大的一半（最小堆）
	for (int i = 0; i < n; i++) {
		int x;
		cin >> x;
		if (max_heap.empty() || x <= max_heap.top()) {
			max_heap.push(x);
		} else {
			min_heap.push(x);
		}
		if (max_heap.size() > min_heap.size() + 1) {
			min_heap.push(max_heap.top());
			max_heap.pop();
		} else if (min_heap.size() > max_heap.size()) {
			max_heap.push(min_heap.top());
			min_heap.pop();
		}
		mid_num(max_heap, min_heap);
	}
	return 0;
}