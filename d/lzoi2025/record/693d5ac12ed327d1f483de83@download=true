#include <bits/stdc++.h>
using namespace std;
using i64 = long long;

void dfs(i64 x, vector<i64>& a, vector<vector<i64 >> & v) {
	for (auto i : v[x]) {
		if (a[i] > a[x]) {
			a[i] = a[x];
			dfs(i, a, v);
		}
	}
}
int main() {
	ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr);

	i64 n, m, q;
	cin >> n >> m >> q;

	vector<i64> a(n + 1);
	vector<vector<i64>> v(n + 1);

	for (i64 i = 1; i <= m; i++) {
		i64 x, y;
		cin >> x >> y;
		v[x].push_back(y);
		v[y].push_back(x);
	}
//	for (i64 i = 1; i <= n; i++) a[i] = i;
	iota(a.begin(), a.end(), 0);

	for (i64 i = 1; i <= n; i++)
		if (a[i] == i) dfs(i, a, v);

	while (q--) {
		i64 x, y;
		cin >> x >> y;
		if (a[x] == a[y]) cout << "Yes" << "\n";
		else cout << "No" << "\n";
	}
	return 0;
}