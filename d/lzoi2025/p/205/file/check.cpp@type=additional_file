#include <bits/stdc++.h>
using namespace std;

int main() {
	ios::sync_with_stdio(false);
	cin.tie(0); cout.tie(0);

	int T, m, x;
    string cmd;
	cin >> T;
	while (T--) {
		cin >> m;
        vector<int> a;
        while (m--) {
            cin >> cmd >> x;
            if (cmd == "P") a.push_back(x);
            else if (cmd == "A") {
                for (int i = 0; i < (int) a.size(); i++) a[i] += x;
            } else {
                int cnt = 0;
                for (int i = 0; i < (int) a.size(); i++) cnt += (a[i] == x);
                cout << cnt << '\n';
            }
        }
	}
	return 0;
}