// luogu P3865
// https://www.luogu.com.cn/record/234922883
// 2.92S

// hdu1754
// https://acm.hdu.edu.cn/viewcode.php?rid=40390222
// 592ms

#include <bits/stdc++.h>
using namespace std;

const int inf = numeric_limits<int>::max() / 2;

// 单点更新, 区间最大值
struct SegmentTree {
	int n;
	vector<int> a;
	
	SegmentTree(int n_) : n(n_) {
		a.assign(4 << __lg(n), 0);
	}
	
	// 单点更新
	void update(int k, int s, int t, int p, int val) {
		if (s == t) {
			a[k] = max(a[k], val);
			return ;
		}
		int mid = (s + t) >> 1;
		if (p <= mid) update(k << 1, s, mid, p, val);
		else update(k << 1 | 1, mid + 1, t, p, val);
		a[k] = max(a[k << 1], a[k << 1 | 1]);
	}
	
	void update(int p, int val) {
		update(1, 1, n, p, val);
	}
	
	int query(int k, int s, int t, int l, int r) {
		if (t < l || s > r) return 0;
		if (s >= l && t <= r) return a[k];
		int mid = (s + t) >> 1;
		return max(query(k << 1, s, mid, l, r), query(k << 1 | 1, mid + 1, t, l, r));
	}
	
	int query(int l, int r) {
		return query(1, 1, n, l, r);
	}
};

int main() {
	ios::sync_with_stdio(false);
	cin.tie(0); cout.tie(0);
	
	int n, q, x, p, l, r, cmd;
	
    cin >> n >> q;
	SegmentTree seg(n);
	for (int i = 1; i <= n; i++) {
		cin >> x;
		seg.update(i, x);
	}
		
	while (q--) {
		cin >> cmd;
		if (cmd == 1) {
			cin >> p >> x;
			seg.update(p, x);
		} else {
			cin >> l >> r;
			cout << seg.query(l, r) << '\n';
		}
	}
	return 0;
}