# https://leetcode.cn/problems/sum-of-subsequence-widths/solutions/1977682/by-endlesscheng-upd1/
class Solution:
    def sumSubseqWidths(self, nums: list[int]) -> int:
        MOD = 998244353
        nums.sort()
        n = len(nums)
        pow2 = [0] * n
        pow2[0] = 1
        for i in range(1, n):
            pow2[i] = pow2[i - 1] * 2 % MOD  # 预处理 2 的幂次
        return sum((pow2[i] - pow2[-1 - i]) * x
                   for i, x in enumerate(nums)) % MOD

n = int(input())
a = list(map(int, input().split()))
sol = Solution()
print(sol.sumSubseqWidths(a))
